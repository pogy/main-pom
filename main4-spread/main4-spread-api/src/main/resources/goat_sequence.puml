@startuml
用户 -> 程序: 发起广告预设
程序 -> MQ: 发送预设定时消息到队列
MQ --> 程序: 返回消息ID
程序 -> 数据库: 存消息ID到广告记录
MQ -> 程序: 定时消息
程序 -> 数据库: 验证消息ID是否有效
数据库 --> 程序: 消息ID有效
程序 --> 数据库: 更换广告

@enduml