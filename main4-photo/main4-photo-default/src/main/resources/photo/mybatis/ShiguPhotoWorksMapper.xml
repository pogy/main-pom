<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.opentae.data.photo.interfaces.ShiguPhotoWorksMapper">

    <select id="" resultType="">
        select t1.works_id ,t1.pic_url,t1.title,t2.user_id,t2.user_name,t2.user_type,t2.address,t1.create_time from
        shigu_photo_works t1,shigu_photo_user t2
        <if test="styleId != null">
            ,shigu_photo_works_style t3
        </if>

        where t1.author_id=t2.user_id
        <if test="userType != null">
            and t2.user_type=1
        </if>
        <if test="styleId != null">
            and t3.style_id=1
            and t1.works_id=t3.works_id
        </if>
    </select>

</mapper>